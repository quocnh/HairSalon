


<div class="row">
  <div class="col-md-6" style="padding: 1px; margin:0">
    <div class=" btn-image" (click)="fileInput.click()" style="padding: 2px; margin:0">
      <img src={{strPhotos[0]}} style="width:100%">
      <input #fileInput type="file" (change)="onFileSelected($event)" style="display:none;" />
    </div>
  </div>
  <div class="col-md-3" style="padding: 1px; margin:0">
    <div class=" btn-image " (click)="fileInput1.click()" style="padding: 2px; margin:0">
      <img src={{strPhotos[1]}} style="object-fit: fill; width:100%">
      <input #fileInput1 type="file" (change)="onSmallPhotoFileSelected($event, 1)" style="display:none;" />
    </div>
    <div class=" btn-image " (click)="fileInput2.click()" style="padding: 2px; margin:0">
      <img src={{strPhotos[2]}} style="object-fit: fill; width:100%">
      <input #fileInput2 type="file" (change)="onSmallPhotoFileSelected($event, 2)" style="display:none;" />
    </div>
  </div>
  <div class="col-md-3" style="padding: 1px; margin:0">
    <div class=" btn-image " (click)="fileInput3.click()" style="padding: 2px; margin:0">
      <img src={{strPhotos[3]}} style="object-fit: fill; width:100%">
      <input #fileInput3 type="file" (change)="onSmallPhotoFileSelected($event, 3)" style="display:none;" />
    </div>
    <div class=" btn-image " (click)="fileInput4.click()" style="padding: 2px; margin:0">
      <img src={{strPhotos[4]}} style="object-fit: fill; width:100%">
      <input #fileInput4 type="file" (change)="onSmallPhotoFileSelected($event, 4)" style="display:none;" />
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-12">
    <div class="card card-chart">
      <div class="card-header">
        <h4 class="card-title">
          Thông tin salon

        </h4>
        <br>
        <p class="card-category">
          <label class="label">Tên Salon</label>
          <input type="text" class="form-control card-title" placeholder="Tên salon" value="{{ salon.name }}"
            [(ngModel)]="salon.name" [ngModelOptions]="{standalone: true}">
        </p>
        
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label class="label">Thành phố</label>
              <div class="input--style-1">
                <ng-autocomplete [data]="cities" [searchKeyword]="keyword" [initialValue]="salon.city"
                  placeHolder="Thành Phố" (selected)='selectCityEvent($event)' (inputChanged)='onChangeSearch($event)'
                  (inputFocused)='onFocused($event)' [itemTemplate]="itemTemplate" [notFoundTemplate]="notFoundTemplate"
                  (inputCleared)="handleCityEmptyInput()" [(ngModel)]="salon.city"
                  [ngModelOptions]="{standalone: true}">

                </ng-autocomplete>

                <ng-template #itemTemplate let-item>
                  <a [innerHTML]="item.name"></a>
                </ng-template>

                <ng-template #notFoundTemplate let-notFound>
                  <div [innerHTML]="notFound"></div>
                </ng-template>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label class="label">Quận</label>
              <div class="input--style-1">
                <ng-autocomplete [data]="districts" [searchKeyword]="keyword" [initialValue]="salon.district"
                  placeHolder="Quận" (selected)='selectDistrictEvent($event)' (inputChanged)='onChangeSearch($event)'
                  (inputFocused)='onFocused($event)' [itemTemplate]="itemTemplate" [notFoundTemplate]="notFoundTemplate"
                  (inputCleared)="handleDistrictEmptyInput()" [(ngModel)]="salon.district"
                  [ngModelOptions]="{standalone: true}">
                </ng-autocomplete>

                <ng-template #itemTemplate let-item>
                  <a [innerHTML]="item.name"></a>
                </ng-template>

                <ng-template #notFoundTemplate let-notFound>
                  <div [innerHTML]="notFound"></div>
                </ng-template>
              </div>
            </div>
          </div>          
        </div>
        <p class="card-category">
          <label class="label">Địa chỉ</label>
          <input type="text" class="form-control" placeholder="Địa chỉ" value="{{ salon.address }}"
            [(ngModel)]="salon.address" [ngModelOptions]="{standalone: true}">
        </p>
        <div class="row">
          <div class="col-md-3">
            <p class="card-category">
              <label class="label">Longitude</label>
              <input type="text" class="form-control" placeholder="Longitude" value="{{ salon.longitude }}"
                [(ngModel)]="salon.longitude" [ngModelOptions]="{standalone: true}">
            </p>
          </div>
          <div class="col-md-3">
            <p class="card-category">
              <label class="label">Latitude</label>
              <input type="text" class="form-control" placeholder="Latitude" value="{{ salon.latitude }}"
                [(ngModel)]="salon.latitude" [ngModelOptions]="{standalone: true}">
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-12">
    <div class="card ">
      <div class="map">
        <div id='map' class="map" style='height: 100%'></div>
      </div>
    </div>
  </div>

</div>

<div class="row">
  <div class="col-md-12">
    <div class="card card-chart">
      <div class="card-header">
        <h5 class="card-title">Thông tin salon</h5>
        <label *ngFor="let s of serviceTypeImages; let i = index">
          <img src="../../../{{s}}" width="25" height="25">
        </label>
        <textarea style="width: 100%; max-width: 100%;" name="Text1" rows="5" placeholder="Salon info"
          value="{{ salon.info }}" [(ngModel)]="salon.info" [ngModelOptions]="{standalone: true}"></textarea>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-12">
    <div class="card card-chart">
      <div class="card-header">
        <h5 class="card-title">Danh sách Dịch vụ</h5>
        <div class="row">
          <div class="col-md-2">
            <label>Hình ảnh</label>
          </div>
          <div class="col-md-2">
            <label>Tên dịch vụ</label>
          </div>
          <div class="col-md-2">
            <label>Giá</label>
          </div>
          <div class="col-md-1">
            <label>Giảm giá(%)</label>
          </div>
          <div class="col-md-2">
            <label>Khuyến mãi</label>
          </div>
          <div class="col-md-1">
            <label>Thời gian (phút)</label>
          </div>
          <div class="col-md-1">
            <label>Loại</label>
          </div>
        </div>
        <div class="row" *ngFor="let s of salon.services; let i = index">
          <div class="col-md-2">
            <div class=" btn-image" (click)="detailfileServiceImageInput.click()" style="padding: 2px; margin:0">
              <img src="{{ s.image }}" style="width:100%">
              <input #detailfileServiceImageInput type="file" (change)="onFileModifyServiceImage($event, i)"
                style="display:none;" />
            </div>
          </div>
          <div class="col-md-2">
            <input id="n-{{i}}" type="text" class="form-control card-title" placeholder="dịch vụ" value="{{ s.name }}"
              [(ngModel)]="s.name" [ngModelOptions]="{standalone: true}">
          </div>
          <div class="col-md-2">
            <input id="p-{{i}}" type="text" class="form-control card-title" placeholder="Giá" value="{{s.price | currency:'VND'}}"
              [(ngModel)]="s.price" [ngModelOptions]="{standalone: true}">
          </div>
          <div class="col-md-1">
            <input id="d-{{i}}" type="text" class="form-control card-title" value="{{s.discount }}"
              [(ngModel)]="s.discount" [ngModelOptions]="{standalone: true}">
          </div>
          <div class="col-md-2">
            <input id="e-{{i}}" type="text" class="form-control card-title" value="{{s.event }}" [(ngModel)]="s.event"
              [ngModelOptions]="{standalone: true}">
          </div>
          <div class="col-md-1">
            <input id="e-{{i}}" type="text" class="form-control card-title" value="{{s.time }}" [(ngModel)]="s.time"
              [ngModelOptions]="{standalone: true}">
          </div>
          <div class="col-md-1">
            <div class="form-group">
              <select input type="text" class="form-control"
                (change)="selectServiceTypeOnChange($event.target.options.selectedIndex)" [(ngModel)]="s.type" [ngModelOptions]="{standalone: true}">
                <option *ngFor="let b of serviceTypes ; let i = index">
                  <p style="text-align:left;"> {{b}} </p>
                </option>
              </select>

            </div>
          </div>
          <div class="col-md-1">
            <button class="btn btn-sm btn-danger btn-round btn-icon pull-right" (click)="deleteService(s)">
              <a data-toggle="tooltip" data-placement="top" title="Xóa"> <i class="fa fa-trash"></i></a>
            </button>
            <p class="pull-right"> &#160; </p>
            <div>
              <button class="btn btn-sm btn-info btn-round btn-icon pull-right" (click)="updateService(s, i)">
                <a data-toggle="tooltip" data-placement="top" title="Cập nhật"><i class="fa fa-pencil"></i></a>
              </button>
            </div>

          </div>
        </div>
        <br>
      </div>
    </div>
    <div class="card card-chart">
      <div class="card-header">
        
        <h5 class="card-title">Thêm Dịch vụ mới</h5>
        <div class="row">
          <div class="col-md-1">
          </div>
          <div class="col-md-3">
            <label>Tên dịch vụ</label>
          </div>
          <div class="col-md-2">
            <label>Giá</label>
          </div>
          <div class="col-md-2">
            <label>Thời gian (phút)</label>
          </div>
          <div class="col-md-2">
            <label>Loại</label>
          </div>
        </div>
        <div class="row">
          <div class="col-md-1" style="padding: 1px; margin:0">
            <div class=" btn-image" (click)="detailfileServiceImageInput.click()" style="padding: 2px; margin:0">
              <img src="{{addedService.image}}" style="width:100%">
              <input #detailfileServiceImageInput type="file" (change)="onFileSelectedServiceImage($event)"
                style="display:none;" />
            </div>
          </div>
          <div class="col-md-3">
            <input name="addedServiceName" type="text" class="form-control card-title" placeholder="Nhập tên dịch vụ mới"
              [(ngModel)]="addedService.name" [ngModelOptions]="{standalone: true}">
          </div>
          <div class="col-md-2">
            <input name="addedServicePrice" type="text" class="form-control card-title" placeholder="Giá (&#x20AB;)"
              [(ngModel)]="addedService.price" [ngModelOptions]="{standalone: true}">
          </div>
          <div class="col-md-2">
            <input name="addedServiceTime" type="text" class="form-control card-title" placeholder="Thời gian (phút)"
              [(ngModel)]="addedService.time" [ngModelOptions]="{standalone: true}">
          </div>
          <div class="col-md-2">
            <div class="form-group">
              <select input type="text" class="form-control"
                (change)="selectServiceTypeOnChange($event.target.options.selectedIndex)">
                <option *ngFor="let b of serviceTypes ; let i = index">
                  <p style="text-align:left;"> {{b}} </p>
                </option>
              </select>

            </div>
          </div>
          <div class="col-md-1">
            <button class="btn btn-sm btn-success btn-round btn-icon pull-right" (click)="addNewService(addedService)">
              <a data-toggle="tooltip" data-placement="top" title="Thêm mới dịch vụ"> <i
                  class="nc-icon nc-simple-add"></i></a>
            </button>
          </div>
        </div>

        <br>
      </div>
    </div>

  </div>

</div>
<div class="row">
  <div class="col-md-12">
  <div class="card card-chart">
    <div class="card-header">
      <h5 class="card-title">Thông tin salon</h5>
    </div>
    <div class="card-body">
      <div class="row">

        <div class="col-md-12 pr-1">
          <p>Chi tiết salon (Upload tối đa 5 hình)</p>
          <div class="row">
            <div class="col-md-3" style="padding: 1px; margin:0">
              <div class=" btn-image" (click)="detailfileInput5.click()" style="padding: 2px; margin:0">
                <img src={{strPhotos[5]}} style="width:100%">
                <input #detailfileInput5 type="file" (change)="onFileSelectedDetailSalon($event,5)"
                  style="display:none;" />
              </div>
            </div>
            <div class="col-md-3" style="padding: 1px; margin:0">
              <button class="btn btn-sm btn-info btn-round" (click)="deletePhoto(5)"> Xóa </button>
            </div>
          </div>
          <div class="row">
            <div class="col-md-3" style="padding: 1px; margin:0">
              <div class=" btn-image" (click)="detailfileInput6.click()" style="padding: 2px; margin:0">
                <img src={{strPhotos[6]}} style="width:100%">
                <input #detailfileInput6 type="file" (change)="onFileSelectedDetailSalon($event,6)"
                  style="display:none;" />
              </div>
            </div>
            <div class="col-md-3" style="padding: 1px; margin:0">
              <button class="btn btn-sm btn-info btn-round" (click)="deletePhoto(6)"> Xóa </button>
            </div>
          </div>
          <div class="row">
            <div class="col-md-3" style="padding: 1px; margin:0">
              <div class=" btn-image" (click)="detailfileInput7.click()" style="padding: 2px; margin:0">
                <img src={{strPhotos[7]}} style="width:100%">
                <input #detailfileInput7 type="file" (change)="onFileSelectedDetailSalon($event,7)"
                  style="display:none;" />
              </div>
            </div>
            <div class="col-md-3" style="padding: 1px; margin:0">
              <button class="btn btn-sm btn-info btn-round" (click)="deletePhoto(7)"> Xóa </button>
            </div>
          </div>
          <div class="row">
            <div class="col-md-3" style="padding: 1px; margin:0">
              <div class=" btn-image" (click)="detailfileInput8.click()" style="padding: 2px; margin:0">
                <img src={{strPhotos[8]}} style="width:100%">
                <input #detailfileInput8 type="file" (change)="onFileSelectedDetailSalon($event,8)"
                  style="display:none;" />
              </div>
            </div>
            <div class="col-md-3" style="padding: 1px; margin:0">
              <button class="btn btn-sm btn-info btn-round" (click)="deletePhoto(8)"> Xóa </button>
            </div>
          </div>
          <div class="row">
            <div class="col-md-3" style="padding: 1px; margin:0">
              <div class=" btn-image" (click)="detailfileInput9.click()" style="padding: 2px; margin:0">
                <img src={{strPhotos[9]}} style="width:100%">
                <input #detailfileInput9 type="file" (change)="onFileSelectedDetailSalon($event,9)"
                  style="display:none;" />
              </div>
            </div>
            <div class="col-md-3" style="padding: 1px; margin:0">
              <button class="btn btn-sm btn-info btn-round" (click)="deletePhoto(9)"> Xóa </button>
            </div>
          </div>

        </div>

      </div>
    </div>
  </div>
</div>
</div>
<div class="row">
  <div class="col-md-12">
    <div class="card card-chart">
      <div class="card-header">
        <h5 class="card-title">Hình ảnh khác</h5>
        <button type="submit" class="btn btn-primary btn-round" (click)="customerPhotos.click()">Thêm hình ảnh</button>

        <input #customerPhotos type="file" (change)="onFileSelectedCustomerPhotos($event)" style="display:none;" />
      </div>
      <div class="card-body">

        <div class="row">
          <div class="col-md-3 img-container" *ngFor="let s of strCustomerPhotos; let i = index">

            <img src={{s}} style="width:20%">
            <button class="btn btn-sm btn-info btn-round" (click)="deleteCustomerPhoto(i)"> Xóa </button>

          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="update ml-auto mr-auto">
    <button type="submit" class="btn btn-primary btn-round" (click)="updateSalonInfo()">Cập nhật</button>
  </div>
</div>